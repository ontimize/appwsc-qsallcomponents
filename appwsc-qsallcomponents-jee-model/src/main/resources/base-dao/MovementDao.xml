<?xml version="1.0" encoding="UTF-8"?>
<JdbcEntitySetup xmlns="http://www.ontimize.com/schema/jdbc"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.ontimize.com/schema/jdbc http://www.ontimize.com/schema/jdbc/ontimize-jdbc-dao.xsd"
	table="MOVEMENTS" datasource="mainDataSource" sqlhandler="dbSQLStatementHandler">
	<DeleteKeys>
		<Column>MOVEMENTID</Column>
	</DeleteKeys>
	<UpdateKeys>
		<Column>MOVEMENTID</Column>
	</UpdateKeys>
	<GeneratedKey>MOVEMENTID</GeneratedKey>

	<Queries>
		<Query id="VMOVEMENTS">
			<Sentence>
				<![CDATA[
					SELECT #COLUMNS#
					FROM (
						SELECT MOVEMENTS.MOVEMENTID, MOVEMENTS.ACCOUNTID, ACCOUNTS.ENTITYID, ACCOUNTS.OFFICEID, ACCOUNTS.CDID, ACCOUNTS.ANID, MOVEMENTS.DATE_, MOVEMENTS.CONCEPT, MOVEMENTS.CONCEPT_ES_ES, MOVEMENTS.CONCEPT_GL_ES, MOVEMENTS.CONCEPT_EN_US, MOVEMENTS.MOVEMENTTYPEID, MOVEMENTS.MOVEMENT, MOVEMENTS.COMMENTS, MOVEMENTS.COMMENTS_EN_US, MOVEMENTS.COMMENTS_ES_ES, MOVEMENTS.COMMENTS_GL_ES, ACCOUNTS.ENTITYID + ' ' + ACCOUNTS.OFFICEID + ' ' + ACCOUNTS.CDID + ' ' + ACCOUNTS.ANID AS ACCOUNT, MOVEMENTTYPES.DESCRIPTION AS MOVEMENTTYPES, MOVEMENTTYPES.DESCRIPTION_ES_ES AS MOVEMENTTYPES_ES_ES, MOVEMENTTYPES.DESCRIPTION_GL_ES AS MOVEMENTTYPES_GL_ES, MOVEMENTTYPES.DESCRIPTION_EN_US AS MOVEMENTTYPES_EN_US
						FROM MOVEMENTS
							LEFT JOIN MOVEMENTTYPES ON MOVEMENTTYPES.MOVEMENTTYPEID = MOVEMENTS.MOVEMENTTYPEID
							LEFT JOIN ACCOUNTS ON MOVEMENTS.ACCOUNTID=ACCOUNTS.ACCOUNTID
						#WHERE#
						ORDER BY MOVEMENTS.DATE_
		          		#ORDER_CONCAT#
		          		) AS VMOVEMENTS
				]]>
			</Sentence>
		</Query>
	</Queries>

</JdbcEntitySetup>
